%D \module
%D   [       file=prop-mis,
%D        version=2004.05.29, % some code moved from private modules
%D          title=\CONTEXT\ Property Macros,
%D       subtitle=Miscelaneous,
%D         author=Hans Hagen,
%D           date=\currentdate,
%D      copyright={PRAGMA / Hans Hagen \& Ton Otten}]
%C
%C This module is part of the \CONTEXT\ macro||package and is
%C therefore copyrighted by \PRAGMA. See mreadme.pdf for
%C details.

\unprotect

%D Overprint cum suis.

\definepropertyhandler \v!overprint {\dotriggeroverprint\v!overprint}
\definepropertyhandler \v!knockout  {\dotriggeroverprint\v!knockout }

\def\startoverprintproperty{\dotriggeroverprint\v!overprint}
\def\stopoverprintproperty {\dotriggeroverprint\v!knockout }

%D Negative cum suis.\def\dotriggeroverprint#1{\csname(os:#1)\endcsname}

\definepropertyhandler \v!negative {\dotriggernegative\v!negative}
\definepropertyhandler \v!positive {\dotriggernegative\v!positive}

\def\startnegativeproperty{\dotriggernegative\v!negative}
\def\stopnegativeproperty {\dotriggernegative\v!positive}

%D Effects.

\def\mktriggereffect#1%
  {\dotriggereffect{#1}{\propertyparameter{#1}\c!stretch}{\propertyparameter{#1}\c!rulethickness}}

\definepropertyhandler \v!normal {\mktriggereffect\v!normal}
\definepropertyhandler \v!inner  {\mktriggereffect\v!inner }
\definepropertyhandler \v!outer  {\mktriggereffect\v!outer }
\definepropertyhandler \v!both   {\mktriggereffect\v!both  }
\definepropertyhandler \v!hidden {\mktriggereffect\v!hidden}

\def\starteffectproperty{\mktriggereffect\currentproperty}
\def\stopeffectproperty {\mktriggereffect\v!normal       }

\protect \endinput
