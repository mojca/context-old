%D \module
%D   [       file=toks-ini,
%D        version=2007.03.03,
%D          title=\CONTEXT\ Character Macros,
%D       subtitle=Token Support (Initialization),
%D         author=Hans Hagen,
%D           date=\currentdate,
%D      copyright=PRAGMA]
%C
%C This module is part of the \CONTEXT\ macro||package and is
%C therefore copyrighted by \PRAGMA. See mreadme.pdf for
%C details.

\writestatus{loading}{Token Support (initialization)}

\registerctxluafile{toks-ini}{1.001}

\def\starttokens  [#1]{\ctxlua{collectors.install("#1", "stoptokens")}}
\let\stoptokens        \relax
\def\flushtokens  [#1]{\ctxlua{collectors.flush("#1")}}
\def\showtokens   [#1]{\ctxlua{collectors.show("#1")}}
\def\testtokens   [#1]{\ctxlua{collectors.with_words("#1")}}
\def\registertoken  #1{\ctxlua{collectors.register("#1")}}

\endinput
